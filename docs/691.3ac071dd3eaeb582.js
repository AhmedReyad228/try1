"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[691],{9691:(E,d,n)=>{n.r(d),n.d(d,{DetailsComponent:()=>A});var a=n(6814),c=n(756),t=n(4769),p=n(1120),g=n(6247),h=n(6286),m=n(2425),f=n(9196);function v(o,r){if(1&o&&t._UZ(0,"img",17),2&o){const s=t.oxw().$implicit;t.Q6J("src",s,t.LSH)}}function D(o,r){1&o&&(t.ynx(0),t.YNc(1,v,1,1,"ng-template",16),t.BQk())}function T(o,r){if(1&o){const s=t.EpF();t.TgZ(0,"span",18),t.NdJ("click",function(){t.CHM(s);const i=t.oxw();return t.KtG(i.removeProduct(i.productInfo._id))}),t._UZ(1,"i",19),t.qZA()}}function x(o,r){if(1&o){const s=t.EpF();t.TgZ(0,"span",18),t.NdJ("click",function(){t.CHM(s);const i=t.oxw();return t.KtG(i.addTowish(i.productInfo._id))}),t._UZ(1,"i",20),t.qZA()}}function C(o,r){if(1&o&&t._UZ(0,"i",21),2&o){const s=r.$implicit,e=t.oxw();t.ekj("rating-color",e.productInfo.ratingsAverage>=s)}}const O=function(){return[1,2,3,4,5]};let A=(()=>{class o{constructor(s,e,i,_,u,l){this._ActivatedRoute=s,this._ProductAPIService=e,this._CartService=i,this._ToastrService=_,this._Renderer2=u,this._WishlistService=l,this.productInfo=[],this.wishListData=[],this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],items:1,nav:!1,autoplay:!0,autoplayTimeout:2e3,autoplaySpeed:1e3}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:s=>{let e=s.get("id");null!=e&&this._ProductAPIService.productDetails(e).subscribe({next:i=>{this.productInfo=i.data},error:i=>{console.log(i)}})},error:s=>{console.log(s)}}),this._WishlistService.getUserWishList().subscribe({next:s=>{const e=s.data.map(i=>i._id);this.wishListData=e}})}addToCart(s,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addProduct(s).subscribe({next:i=>{this._ToastrService.success(i.message),this._Renderer2.removeAttribute(e,"disabled"),this._CartService.cartNumber.next(i.numOfCartItems)},error:i=>{this._Renderer2.removeAttribute(e,"disabled")}})}addTowish(s){this._WishlistService.addToWishList(s).subscribe({next:e=>{this._ToastrService.success(e.message),this.wishListData=e.data,this._WishlistService.wishNum.next(e.data.length)},error:e=>{console.log(e)}})}removeProduct(s){this._WishlistService.removeProduct(s).subscribe({next:e=>{this._ToastrService.success(e.message),this.wishListData=e.data,this._WishlistService.wishNum.next(e.data.length)},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(p.gz),t.Y36(g.j),t.Y36(h.N),t.Y36(m._W),t.Y36(t.Qsj),t.Y36(f.M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-details"]],standalone:!0,features:[t.jDz],decls:27,vars:13,consts:[[1,"my-5"],[1,"container"],[1,"row","align-items-center","g-4"],[1,"col-md-3"],[3,"options"],[4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"position-relative"],[3,"click",4,"ngIf"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","fas fa-star",3,"rating-color",4,"ngFor","ngForOf"],[1,"text-muted","ms-2"],[1,"btn-main","mx-auto","d-block","w-100",3,"click"],["added",""],["carouselSlide",""],["alt","product image",3,"src"],[3,"click"],[1,"fa-solid","fa-heart","detailsHeart2"],[1,"fa-regular","fa-heart","detailsHeart1"],[1,"fas","fa-star"]],template:function(e,i){if(1&e){const _=t.EpF();t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"owl-carousel-o",4),t.YNc(6,D,2,0,"ng-container",5),t.qZA()()(),t.TgZ(7,"div",6)(8,"div",7),t.YNc(9,T,2,0,"span",8),t.YNc(10,x,2,0,"span",8),t.TgZ(11,"h3"),t._uU(12),t.qZA(),t.TgZ(13,"h4",9),t._uU(14),t.qZA(),t.TgZ(15,"div",10)(16,"span"),t._uU(17),t.ALo(18,"currency"),t.qZA(),t.TgZ(19,"div",11)(20,"div"),t.YNc(21,C,1,2,"i",12),t.qZA(),t.TgZ(22,"span",13),t._uU(23),t.qZA()()(),t.TgZ(24,"button",14,15),t.NdJ("click",function(){t.CHM(_);const l=t.MAs(25);return t.KtG(i.addToCart(i.productInfo._id,l))}),t._uU(26," +Add To Cart "),t.qZA()()()()()()}2&e&&(t.xp6(5),t.Q6J("options",i.customOptions),t.xp6(1),t.Q6J("ngForOf",i.productInfo.images),t.xp6(3),t.Q6J("ngIf",i.wishListData.includes(i.productInfo._id)),t.xp6(1),t.Q6J("ngIf",!i.wishListData.includes(i.productInfo._id)),t.xp6(2),t.Oqu(i.productInfo.title),t.xp6(2),t.Oqu(i.productInfo.description),t.xp6(3),t.Oqu(t.xi3(18,9,i.productInfo.price," EGP ")),t.xp6(4),t.Q6J("ngForOf",t.DdM(12,O)),t.xp6(2),t.Oqu(i.productInfo.ratingsAverage))},dependencies:[a.ez,a.sg,a.O5,a.H9,c.bB,c.Fy,c.Mp],styles:[".detailsHeart1[_ngcontent-%COMP%]{font-size:35px;position:absolute;top:5px;z-index:99;right:5px;transition:right .7s;cursor:pointer}.detailsHeart2[_ngcontent-%COMP%]{font-size:35px;position:absolute;top:5px;right:5px;cursor:pointer;color:#b80000!important}"]})}return o})()}}]);